Автор Майкъл Зарков
Записки от лекциите по "Мрежово програмиране" летен семестър 2023/2024.
Лектор Стела Русева.

29.02.2024-------------------------------------------------------------------------------------------------------------
UDP сокети.
Интерфейсът на сокетите.
APRA и началото на Интернет.
Какво точно наричаме сокет (това е софтуерна абстракция).
Типове сокети (комбинация от IP адрес и порт).
TCP и UDP сокети.
Основните разлики между TCP и UDP.
Сокети в UNIX. Връзката м-у дескриптори на файлове и на сокети. Прилики и разлики.
Всичко надолу се отнася за UDP.
Структура от данни на сокета (каква информация пазим):
  - семейство протоколи
  - тип на услугата
  - локален IP адрес
  - отдалечен IP адрес
  - локален номер на порт 
  - отдалечен номер на порт
Big endian, little endian.
Функции за преобразуване на реда на байтовете - има C библиотеки.
Функции за преобразуване на IP адреси. Отново има C библиотеки.
  - inet_aton C функция.
  - inet_ntoa C функция.
  - bzero(), bcopy(), bcmp().
  - създаване на сокет, системният примитив socket()
    - параметърът domain.
    - параметърът type - определя семантиката на обмена на информация.
    - параметърът protocol - ще го слагаме винаги 0.
    - връщана стойност.
  - настройка на адреса на сокета bind().
  - номера на портове - кои за какво се ползват
  - конкретен мрежов интерфейс.
  - системните примитиви sendto() recvfrom() - параметри и как точно работят.
  - има максимален брой байтове, които може наведнъж да пращаме (защото имаме ограничен буфер).
  - основните C заглавни файлове за работа със сокети.
Същите неща от по-горе ги има и за IPv6.
Функции за преобразуване на IP адреси.
Функции за работа с база данни на възлите в мрежата (DNS).
Нещата за базите данни от презентациите ги минахме бързо.
Четири типа данни(C structures), отнасящи се до мрежата - има една табличка в записките.
Функциите getsockopt() и setsockopt().


07.03.2024-------------------------------------------------------------------------------------------------------------
Картинка на комуникацията между клиента и сървъра при TPC.
Примитива connect() на клиента (при UDP го нямаше).
Примитива listen() на сървъра.
Примитива accept() на сървъра.
Прототипът close().
Припомнихме максималните големини на фрагментите/сегментите при Ethernet, IP, TCP.
Общите действия на клиента и сървъра.
Вместо read() и write() (както при UDP) имаме send() и receive().
При сървъра се създават 2 сокета.
Съответните C библиотеки.
Преговорихме три етапното ръкостискане.
Активни и пасивни потоково ориентирани сокети.

Сокети в GNU Linux.

Създаване на програма за паралелна обработка на заявки.
fork. Създаване на процес дете. Работа с процеси.
Функцията fcntl().
Неблокиращ вход/изход.
Мултиплексиране. Разликите при ползване на fork и мултиплексиране.
I/O с възможност за уведомяване за състоянието на потока.
Асинхронен вход/изход.

Следващата лекция ще говорим за сокети в Windows.